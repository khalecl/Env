<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Water Transmission Training | Failure Analysis & Reliability Engineering</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #1e40af;
            --primary-dark: #1e3a8a;
            --accent: #0891b2;
            --accent-light: #06b6d4;
            --success: #16a34a;
            --warning: #ea580c;
            --danger: #dc2626;
            --light-bg: #f8fafc;
            --border: #e2e8f0;
            --text-dark: #1e293b;
            --text-light: #64748b;
            --white: #ffffff;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: var(--text-dark);
            line-height: 1.6;
        }

        /* Header & Navigation */
        header {
            background: var(--white);
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 100;
            animation: slideDown 0.5s ease-out;
        }

        @keyframes slideDown {
            from {
                transform: translateY(-100%);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 1rem 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 2rem;
        }

        .logo-section {
            display: flex;
            align-items: center;
            gap: 1rem;
            flex-shrink: 0;
        }

        .company-logo,
        .training-logo {
            height: 50px;
            object-fit: contain;
            animation: slideInLeft 0.6s ease-out;
        }

        @keyframes slideInLeft {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .logo-divider {
            font-size: 1.5rem;
            color: var(--border);
            font-weight: 300;
        }

        .nav-menu {
            display: flex;
            gap: 0.5rem;
            list-style: none;
            flex-wrap: wrap;
        }

        .nav-btn {
            padding: 0.5rem 1rem;
            background: transparent;
            border: none;
            border-bottom: 2px solid transparent;
            color: var(--text-light);
            cursor: pointer;
            font-size: 0.95rem;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .nav-btn:hover {
            color: var(--primary);
            border-bottom-color: var(--primary);
        }

        .nav-btn.active {
            color: var(--primary);
            border-bottom-color: var(--primary);
        }

        /* Main Container */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem 1.5rem;
        }

        /* Hero Section */
        .hero {
            background: var(--white);
            border-radius: 12px;
            padding: 3rem 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
            animation: fadeInUp 0.6s ease-out 0.1s both;
            text-align: center;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .hero h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero p {
            font-size: 1.1rem;
            color: var(--text-light);
            margin-bottom: 1.5rem;
        }

        .progress-indicator {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            margin-top: 2rem;
            flex-wrap: wrap;
        }

        .progress-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--border);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .progress-dot.active {
            background: var(--primary);
            width: 28px;
            border-radius: 6px;
        }

        /* Topics Grid */
        .topics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-bottom: 3rem;
        }

        .topic-card {
            background: var(--white);
            border-radius: 12px;
            padding: 2rem;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border-left: 4px solid var(--border);
            animation: fadeInUp 0.6s ease-out both;
        }

        @for $i from 1 to 6 {
            .topic-card:nth-child($i) {
                animation-delay: #{$i * 0.1}s;
            }
        }

        .topic-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 12px 24px rgba(0,0,0,0.15);
            border-left-color: var(--primary);
        }

        .topic-card.active {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: var(--white);
            border-left-color: var(--accent);
        }

        .topic-number {
            display: inline-block;
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            color: var(--white);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            margin-bottom: 1rem;
            font-size: 1.2rem;
        }

        .topic-card.active .topic-number {
            background: var(--white);
            color: var(--primary);
        }

        .topic-title {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .topic-desc {
            color: var(--text-light);
            font-size: 0.95rem;
            line-height: 1.5;
        }

        .topic-card.active .topic-desc {
            color: rgba(255,255,255,0.9);
        }

        /* Content Section */
        .content-section {
            background: var(--white);
            border-radius: 12px;
            padding: 2.5rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
            margin-bottom: 2rem;
            display: none;
            animation: fadeIn 0.4s ease-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        .content-section.active {
            display: block;
        }

        .content-section h2 {
            font-size: 2rem;
            margin-bottom: 1.5rem;
            color: var(--primary);
            border-bottom: 3px solid var(--accent);
            padding-bottom: 0.5rem;
        }

        .content-section h3 {
            font-size: 1.4rem;
            margin-top: 2rem;
            margin-bottom: 1rem;
            color: var(--primary-dark);
        }

        .subsection {
            margin: 1.5rem 0;
            padding: 1.5rem;
            background: var(--light-bg);
            border-radius: 8px;
            border-left: 4px solid var(--accent);
        }

        .subsection h4 {
            color: var(--accent);
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
        }

        /* Activity Section */
        .activity {
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
            border: 2px dashed var(--accent);
            border-radius: 8px;
            padding: 2rem;
            margin: 2rem 0;
        }

        .activity-title {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 1rem;
        }

        .activity-icon {
            width: 32px;
            height: 32px;
            background: var(--accent);
            color: var(--white);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
        }

        /* Form Elements */
        .form-group {
            margin-bottom: 1.5rem;
        }

        label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--text-dark);
        }

        input[type="text"],
        input[type="number"],
        textarea,
        select {
            width: 100%;
            padding: 0.75rem 1rem;
            border: 2px solid var(--border);
            border-radius: 6px;
            font-family: inherit;
            font-size: 0.95rem;
            transition: all 0.3s ease;
        }

        input[type="text"]:focus,
        input[type="number"]:focus,
        textarea:focus,
        select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(30, 64, 175, 0.1);
        }

        textarea {
            resize: vertical;
            min-height: 100px;
        }

        /* Buttons */
        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 6px;
            font-size: 0.95rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            text-decoration: none;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: var(--white);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(30, 64, 175, 0.3);
        }

        .btn-secondary {
            background: var(--light-bg);
            color: var(--primary);
            border: 2px solid var(--primary);
        }

        .btn-secondary:hover {
            background: var(--primary);
            color: var(--white);
        }

        .btn-small {
            padding: 0.5rem 1rem;
            font-size: 0.85rem;
        }

        .btn-group {
            display: flex;
            gap: 1rem;
            margin-top: 1.5rem;
            flex-wrap: wrap;
        }

        /* Table */
        .table-responsive {
            overflow-x: auto;
            margin: 1.5rem 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background: var(--white);
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }

        th {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: var(--white);
            padding: 1rem;
            text-align: left;
            font-weight: 600;
        }

        td {
            padding: 0.75rem 1rem;
            border-bottom: 1px solid var(--border);
        }

        tr:last-child td {
            border-bottom: none;
        }

        tr:hover {
            background: var(--light-bg);
        }

        /* Alerts */
        .alert {
            padding: 1rem 1.5rem;
            border-radius: 6px;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: flex-start;
            gap: 1rem;
        }

        .alert-icon {
            font-size: 1.3rem;
            flex-shrink: 0;
        }

        .alert-success {
            background: #dcfce7;
            border-left: 4px solid var(--success);
            color: #166534;
        }

        .alert-info {
            background: #dbeafe;
            border-left: 4px solid var(--primary);
            color: #1e3a8a;
        }

        .alert-warning {
            background: #fed7aa;
            border-left: 4px solid var(--warning);
            color: #92400e;
        }

        /* Deliverable Section */
        .deliverable {
            background: linear-gradient(135deg, #fef3c7 0%, #fcd34d 100%);
            border-left: 4px solid var(--warning);
            padding: 1.5rem;
            border-radius: 8px;
            margin: 2rem 0;
        }

        .deliverable h4 {
            color: var(--warning);
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
        }

        /* Tabs */
        .tabs {
            display: flex;
            gap: 0;
            border-bottom: 2px solid var(--border);
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
        }

        .tab-btn {
            padding: 1rem 1.5rem;
            background: transparent;
            border: none;
            border-bottom: 3px solid transparent;
            color: var(--text-light);
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            position: relative;
            top: 2px;
        }

        .tab-btn:hover {
            color: var(--primary);
        }

        .tab-btn.active {
            color: var(--primary);
            border-bottom-color: var(--primary);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.3s ease-out;
        }

        /* List Styles */
        .list-styled {
            list-style: none;
            margin: 1rem 0;
        }

        .list-styled li {
            padding: 0.5rem 0 0.5rem 1.5rem;
            position: relative;
            margin-bottom: 0.5rem;
        }

        .list-styled li:before {
            content: "‚ñ∏";
            position: absolute;
            left: 0;
            color: var(--accent);
            font-weight: bold;
            font-size: 1.2rem;
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                padding: 1rem;
            }

            .logo-section {
                width: 100%;
                justify-content: center;
            }

            .company-logo,
            .training-logo {
                height: 40px;
            }

            .nav-menu {
                width: 100%;
                justify-content: center;
            }

            .hero {
                padding: 2rem 1.5rem;
            }

            .hero h1 {
                font-size: 1.8rem;
            }

            .content-section {
                padding: 1.5rem;
            }

            .content-section h2 {
                font-size: 1.5rem;
            }

            .container {
                padding: 1.5rem 1rem;
            }

            .topics-grid {
                grid-template-columns: 1fr;
            }

            .activity {
                padding: 1.5rem 1rem;
            }

            .btn-group {
                flex-direction: column;
            }

            .btn {
                width: 100%;
                justify-content: center;
            }

            table {
                font-size: 0.85rem;
            }

            th, td {
                padding: 0.5rem;
            }

            .tab-btn {
                padding: 0.75rem 1rem;
                font-size: 0.9rem;
            }
        }

        /* Footer */
        footer {
            background: var(--white);
            padding: 2rem 1.5rem;
            text-align: center;
            color: var(--text-light);
            border-top: 1px solid var(--border);
            margin-top: 3rem;
        }

        footer p {
            margin: 0;
        }

        /* Utility Classes */
        .text-center {
            text-align: center;
        }

        .mt-2 {
            margin-top: 1rem;
        }

        .mt-3 {
            margin-top: 1.5rem;
        }

        .mb-2 {
            margin-bottom: 1rem;
        }

        .mb-3 {
            margin-bottom: 1.5rem;
        }

        .grid-2 {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
        }

        /* Scrollbar Styling */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--light-bg);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--border);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--text-light);
        }

        /* Success Animation */
        @keyframes successPulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .success-animation {
            animation: successPulse 0.6s ease-out;
        }

        /* Print Styles */
        @media print {
            body {
                background: var(--white);
            }

            header, footer, .nav-menu {
                display: none;
            }

            .content-section {
                box-shadow: none;
                page-break-inside: avoid;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="header-content">
            <div class="logo-section">
                <img src="https://taqatransmission.com/sites/default/files/inline-images/dark-logo.png" alt="Taqat Transmission" class="company-logo">
                <span class="logo-divider">√ó</span>
                <img src="https://xcalibretraining.com/wp-content/uploads/2022/06/Logo-resized.png" alt="Xcalibre Training" class="training-logo">
            </div>
            <ul class="nav-menu" id="navMenu">
                <li><button class="nav-btn active" data-topic="0">Overview</button></li>
                <li><button class="nav-btn" data-topic="1">Failure Analysis</button></li>
                <li><button class="nav-btn" data-topic="2">Reliability</button></li>
                <li><button class="nav-btn" data-topic="3">Root Cause</button></li>
                <li><button class="nav-btn" data-topic="4">FMEA</button></li>
                <li><button class="nav-btn" data-topic="5">RCM</button></li>
            </ul>
        </div>
    </header>

    <div class="container">
        <!-- Overview Section -->
        <section class="content-section active" id="topic-0">
            <div class="hero">
                <h1>Water Transmission Pump Training</h1>
                <p>Failure Analysis, Reliability Engineering & Maintenance Strategy</p>
                <p style="font-size: 0.95rem; color: var(--text-light);">Day 3 Curriculum: Managing Multiple OMs for Water Operations</p>
                <div class="progress-indicator" id="progressIndicator"></div>
            </div>

            <div style="margin-top: 3rem;">
                <h3>Your Challenge</h3>
                <div class="alert alert-info">
                    <div class="alert-icon">‚ÑπÔ∏è</div>
                    <div>
                        <strong>You operate three pump types with different manufacturer specifications.</strong> Equipment A requires 500-hour PM. Equipment B requires annual inspection. Equipment C requires monthly condition checks. Yet failures still occur at unpredictable intervals. Your task: understand which failure modes each OM prevents, and build a maintenance strategy that works for YOUR operating environment.
                    </div>
                </div>

                <h3 style="margin-top: 2rem;">Training Path (6 Hours)</h3>
                <div class="topics-grid">
                    <div class="topic-card" data-topic="1">
                        <div class="topic-number">1</div>
                        <div class="topic-title">Failure Analysis (45 min)</div>
                        <div class="topic-desc">Why do water pumps fail? Learn cavitation, corrosion, and pressure cycling failures specific to water systems.</div>
                    </div>
                    <div class="topic-card" data-topic="2">
                        <div class="topic-number">2</div>
                        <div class="topic-title">Reliability Concepts (45 min)</div>
                        <div class="topic-desc">Measure reliability: MTBF, MTTR, Availability, and Criticality. Understand why consequence matters.</div>
                    </div>
                    <div class="topic-card" data-topic="3">
                        <div class="topic-number">3</div>
                        <div class="topic-title">Root Cause Analysis (30 min)</div>
                        <div class="topic-desc">Go beyond symptoms to find root causes using Five Whys methodology.</div>
                    </div>
                    <div class="topic-card" data-topic="4">
                        <div class="topic-number">4</div>
                        <div class="topic-title">FMEA (60 min)</div>
                        <div class="topic-desc">Identify which failures matter most using RPN scoring.</div>
                    </div>
                    <div class="topic-card" data-topic="5">
                        <div class="topic-number">5</div>
                        <div class="topic-title">RCM Methodology (90 min)</div>
                        <div class="topic-desc">Build a unified maintenance strategy that bridges multiple OMs.</div>
                    </div>
                </div>

                <div style="margin-top: 3rem; padding: 2rem; background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%); border-left: 4px solid var(--success); border-radius: 8px;">
                    <h4 style="color: var(--success); margin-bottom: 0.5rem;">What You'll Deliver</h4>
                    <ul class="list-styled">
                        <li>Pump Failure Analysis Worksheet (identify YOUR failure modes)</li>
                        <li>Criticality Matrix (understand YOUR pump priorities)</li>
                        <li>Root Cause Analysis Report (find multi-layer causes)</li>
                        <li>FMEA Prioritization Matrix (score YOUR risks)</li>
                        <li>RCM Strategy Document (unified maintenance approach)</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Topic 1: Failure Analysis -->
        <section class="content-section" id="topic-1">
            <h2>Topic 1: Failure Analysis Techniques</h2>
            
            <div class="subsection">
                <h4>Water Transmission Application</h4>
                <p>Water transmission pumps fail differently than manufacturing equipment. Failures aren't just wear-related‚Äîthey're driven by operational stresses unique to water systems:</p>
                <ul class="list-styled">
                    <li><strong>Cavitation damage:</strong> High flow + low suction pressure = impeller pitting</li>
                    <li><strong>Corrosion:</strong> Water chemistry (pH, oxygen, hardness) damages bearings and seals</li>
                    <li><strong>Pressure cycling:</strong> Daily demand cycles stress seals and bearings</li>
                    <li><strong>Water quality:</strong> Suspended solids damage pump internals</li>
                    <li><strong>Operational misuse:</strong> Running dry, rapid shutdown, exceeding pressure causes failure chains</li>
                </ul>
            </div>

            <div class="activity">
                <div class="activity-title">
                    <div class="activity-icon">üìã</div>
                    Activity: Analyze Your Pump Failure
                </div>
                <p style="margin-bottom: 1rem;">Use this scenario or substitute your own recent failure data.</p>
                
                <div class="form-group">
                    <label>Pump Type</label>
                    <input type="text" placeholder="e.g., 200-HP Centrifugal, Vertical Turbine, Submersible" value="200-HP Centrifugal">
                </div>

                <div class="form-group">
                    <label>What specifically failed? (Failure Mode)</label>
                    <input type="text" placeholder="e.g., Impeller cavitation, Bearing corrosion, Seal leakage">
                </div>

                <div class="form-group">
                    <label>When did it fail? (Hours of operation)</label>
                    <input type="number" placeholder="e.g., 480">
                </div>

                <div class="form-group">
                    <label>What was the OM PM interval?</label>
                    <input type="text" placeholder="e.g., 500-hour PM">
                </div>

                <div class="form-group">
                    <label>Why did it fail BEFORE the OM interval?</label>
                    <textarea placeholder="Your analysis: What operating condition triggered this failure?"></textarea>
                </div>

                <div class="alert alert-success">
                    <div class="alert-icon">‚úì</div>
                    <div>
                        <strong>Key Insight:</strong> If failure occurred before the OM interval, the failure mode is probably condition-based (pressure, temperature, water quality), not time-based. The OM may not address this specific failure mode.
                    </div>
                </div>

                <div class="btn-group">
                    <button class="btn btn-primary" onclick="saveAnalysis(1)">Save Analysis</button>
                    <button class="btn btn-secondary" onclick="printSection()">Print Worksheet</button>
                </div>
            </div>

            <div class="deliverable">
                <h4>üìÑ Deliverable: Pump Failure Analysis Worksheet</h4>
                <p style="margin-bottom: 1rem;">Complete this template for future failures:</p>
                <div style="background: white; padding: 1rem; border-radius: 6px; border: 1px solid var(--border); overflow-x: auto;">
                    <pre style="font-size: 0.85rem; line-height: 1.4;">PUMP FAILURE ANALYSIS WORKSHEET

Equipment: _________________ OM Manufacturer: __________________

1. FAILURE DESCRIPTION
   What failed? _____________________________________________________

2. OPERATING CONDITIONS AT TIME OF FAILURE
   ‚Ä¢ Pressure: _________ PSI (Design rating: _________)
   ‚Ä¢ Flow rate: ________ GPM (Design rating: _________)
   ‚Ä¢ Run time: ________ hours (OM PM interval: ________)
   ‚Ä¢ Water quality: pH _____, Hardness _____, Suspended solids _____
   ‚Ä¢ Season: ___________

3. ROOT CAUSE ANALYSIS
   Physical cause (what failed): ___________________________________
   Operational cause (what condition triggered): ___________________
   Maintenance gap (what wasn't detected): _________________________

4. OM RECOMMENDATION vs. ACTUAL FAILURE
   OM says: _____________ every _______
   Failure occurred: At _____________ (before/after OM interval)
   Why didn't OM prevent this? ____________________________________

5. FAILURE MODE PATTERN
   Is this failure:
   ‚òê Time-based (always at same operating hours)
   ‚òê Condition-based (happens when specific condition exists)
   ‚òê Random (unpredictable)

6. BETTER MAINTENANCE STRATEGY
   What should you do differently? ________________________________
   _________________________________________________________________</pre>
                </div>
            </div>
        </section>

        <!-- Topic 2: Reliability Concepts -->
        <section class="content-section" id="topic-2">
            <h2>Topic 2: Reliability Engineering Principles</h2>

            <div class="subsection">
                <h4>Reliability in Water Transmission Means</h4>
                <p><strong>Water flows when customers need it at required pressure and quality.</strong></p>
                <p>This is different from manufacturing or electricity. Water system reliability economics are reversed‚Äîunreliability causes public impact, not just revenue loss.</p>
            </div>

            <div class="subsection">
                <h4>Key Reliability Metrics</h4>
                <ul class="list-styled">
                    <li><strong>MTBF (Mean Time Between Failures):</strong> Total hours / Number of failures</li>
                    <li><strong>MTTR (Mean Time To Repair):</strong> Emergency repair time is 2-3x longer than planned PM</li>
                    <li><strong>Availability:</strong> MTBF / (MTBF + MTTR) = percentage of time equipment runs</li>
                    <li><strong>Criticality:</strong> Availability √ó Consequence = true risk score</li>
                </ul>
            </div>

            <div class="activity">
                <div class="activity-title">
                    <div class="activity-icon">üìä</div>
                    Activity: Calculate Criticality for Your Pumps
                </div>

                <h4 style="margin-top: 1.5rem; margin-bottom: 1rem;">Step 1: Calculate MTBF</h4>
                <div class="form-group">
                    <label>Total pump failures (last 5 years)</label>
                    <input type="number" placeholder="e.g., 12" value="12" id="failures">
                </div>
                <div class="form-group">
                    <label>Total pump-hours operated (last 5 years)</label>
                    <input type="number" placeholder="e.g., 15000" value="15000" id="pumpHours">
                </div>
                <div style="padding: 1rem; background: var(--light-bg); border-radius: 6px; margin-bottom: 1.5rem;">
                    <strong>MTBF = Total hours / Failures = </strong>
                    <span id="mtbfResult" style="color: var(--primary); font-weight: bold;">1,250 hours</span>
                </div>

                <h4 style="margin: 1.5rem 0;">Step 2: Estimate MTTR</h4>
                <div class="grid-2">
                    <div class="form-group">
                        <label>Emergency repair time (hours)</label>
                        <input type="number" placeholder="e.g., 5" value="5" id="mttr">
                    </div>
                    <div class="form-group">
                        <label>Planned PM time (hours)</label>
                        <input type="number" placeholder="e.g., 1.5" value="1.5" id="pmTime">
                    </div>
                </div>

                <h4 style="margin: 1.5rem 0;">Step 3: Calculate Availability</h4>
                <div style="padding: 1rem; background: var(--light-bg); border-radius: 6px; margin-bottom: 1.5rem;">
                    <strong>Availability = MTBF / (MTBF + MTTR) = </strong>
                    <span id="availabilityResult" style="color: var(--primary); font-weight: bold;">99.6%</span>
                </div>

                <h4 style="margin: 1.5rem 0;">Step 4: Assess Consequence (Rate 1-10)</h4>
                <table style="width: 100%; margin-bottom: 1.5rem;">
                    <thead>
                        <tr>
                            <th>Location</th>
                            <th>Customers Affected</th>
                            <th>$ Per Hour</th>
                            <th>Consequence</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Location 1 (City Core)</td>
                            <td>50,000</td>
                            <td>$250,000</td>
                            <td><input type="number" min="1" max="10" value="9" style="width: 60px;"></td>
                        </tr>
                        <tr>
                            <td>Location 2 (Booster)</td>
                            <td>8,000</td>
                            <td>$50,000</td>
                            <td><input type="number" min="1" max="10" value="10" style="width: 60px;"></td>
                        </tr>
                        <tr>
                            <td>Location 3 (Remote)</td>
                            <td>2,000</td>
                            <td>$5,000</td>
                            <td><input type="number" min="1" max="10" value="4" style="width: 60px;"></td>
                        </tr>
                    </tbody>
                </table>

                <div class="alert alert-info">
                    <div class="alert-icon">‚ÑπÔ∏è</div>
                    <div>
                        <strong>Important:</strong> Same availability (99.6%) has different meaning at each location. Criticality = Availability √ó Consequence. Location 2 is most critical because one failure = complete outage. Location 3 is less critical because manual bypass available.
                    </div>
                </div>

                <div class="btn-group">
                    <button class="btn btn-primary" onclick="calculateCriticality()">Calculate Criticality Matrix</button>
                </div>
            </div>

            <div id="criticalityMatrix" style="display: none; margin-top: 2rem;">
                <div class="deliverable">
                    <h4>üìä Your Criticality Matrix</h4>
                    <div class="table-responsive">
                        <table id="matrixTable">
                            <thead>
                                <tr>
                                    <th>Location</th>
                                    <th>Availability</th>
                                    <th>Consequence</th>
                                    <th>Criticality</th>
                                    <th>Recommendation</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>City Core</td>
                                    <td id="av1">99.6%</td>
                                    <td id="cons1">9</td>
                                    <td id="crit1" style="font-weight: bold; color: var(--warning);">8.964</td>
                                    <td>High intensity monitoring</td>
                                </tr>
                                <tr>
                                    <td>Booster</td>
                                    <td id="av2">99.6%</td>
                                    <td id="cons2">10</td>
                                    <td id="crit2" style="font-weight: bold; color: var(--danger);">9.96</td>
                                    <td>CRITICAL: Intensive + backup</td>
                                </tr>
                                <tr>
                                    <td>Remote</td>
                                    <td id="av3">99.6%</td>
                                    <td id="cons3">4</td>
                                    <td id="crit3" style="font-weight: bold; color: var(--success);">3.984</td>
                                    <td>Standard maintenance</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>

        <!-- Topic 3: Root Cause Analysis -->
        <section class="content-section" id="topic-3">
            <h2>Topic 3: Root Cause Analysis</h2>

            <div class="subsection">
                <h4>Multi-Layer Root Causes in Water Systems</h4>
                <p>Water pump failures have complex root causes because <strong>three factors interact:</strong></p>
                <ol style="margin-left: 1.5rem; margin-top: 0.5rem;">
                    <li>Equipment condition (bearing wear, seal degradation)</li>
                    <li>Operating stress (pressure, flow rate, temperature)</li>
                    <li>Water quality (pH, hardness, suspended solids, oxygen)</li>
                </ol>
                <p style="margin-top: 1rem;">Manufacturing equipment failure typically has ONE root cause. Water equipment failure usually has THREE interacting causes.</p>
            </div>

            <div class="activity">
                <div class="activity-title">
                    <div class="activity-icon">üîç</div>
                    Activity: Five Whys Root Cause Analysis
                </div>

                <p style="margin-bottom: 1rem; color: var(--text-light);">Scenario: 200-HP pump started grinding noise, pressure dropped, shutdown required. Impeller cavitation damage confirmed. Last PM: 350 hours ago (before 500-hour interval). Bearing temp was 92¬∞F (elevated). Water pH dropped to 6.8. Peak demand period March 10-15.</p>

                <div style="margin-top: 1.5rem;">
                    <h4 style="color: var(--accent); margin-bottom: 1rem;">Why #1: Why did cavitation occur?</h4>
                    <textarea placeholder="Your answer: Because..."></textarea>
                    <p style="font-size: 0.85rem; color: var(--text-light); margin-top: 0.5rem;">Hint: Pressure differential between suction and discharge</p>
                </div>

                <div style="margin-top: 1rem;">
                    <h4 style="color: var(--accent); margin-bottom: 1rem;">Why #2: Why was suction pressure low?</h4>
                    <textarea placeholder="Your answer: Because..."></textarea>
                    <p style="font-size: 0.85rem; color: var(--text-light); margin-top: 0.5rem;">Hint: System stress during peak demand period</p>
                </div>

                <div style="margin-top: 1rem;">
                    <h4 style="color: var(--accent); margin-bottom: 1rem;">Why #3: Why didn't monitoring catch this earlier?</h4>
                    <textarea placeholder="Your answer: Because..."></textarea>
                    <p style="font-size: 0.85rem; color: var(--text-light); margin-top: 0.5rem;">Hint: Bearing temperature was slightly elevated at PM but not investigated</p>
                </div>

                <div style="margin-top: 1rem;">
                    <h4 style="color: var(--accent); margin-bottom: 1rem;">Why #4: Why did water quality degrade?</h4>
                    <textarea placeholder="Your answer: Because..."></textarea>
                    <p style="font-size: 0.85rem; color: var(--text-light); margin-top: 0.5rem;">Hint: Acid rain + low chlorine treatment in March</p>
                </div>

                <div style="margin-top: 1rem;">
                    <h4 style="color: var(--accent); margin-bottom: 1rem;">Why #5: Why wasn't this prevented?</h4>
                    <textarea placeholder="Your answer: Because..."></textarea>
                    <p style="font-size: 0.85rem; color: var(--text-light); margin-top: 0.5rem;">Hint: OM didn't account for condition-based failure (cavitation)</p>
                </div>

                <div class="alert alert-success" style="margin-top: 1.5rem;">
                    <div class="alert-icon">‚úì</div>
                    <div>
                        <strong>Root Causes Identified:</strong> Physical (cavitation), Operational (peak demand stress), Water Quality (low pH corrosion acceleration), Maintenance Gap (elevated temperature not investigated), System (insufficient pressure regulation)
                    </div>
                </div>

                <div class="btn-group">
                    <button class="btn btn-primary" onclick="saveAnalysis(3)">Save RCA</button>
                </div>
            </div>

            <div class="deliverable">
                <h4>üìÑ Deliverable: RCA Report Template</h4>
                <p style="margin-bottom: 1rem;">Your complete root cause analysis for implementation:</p>
                <ul class="list-styled">
                    <li>Problem statement (not symptom)</li>
                    <li>Five Whys chain of reasoning</li>
                    <li>Root causes categorized: Physical, Operational, Water Quality, Maintenance, System</li>
                    <li>Prevention strategy for EACH layer (one-layer fixes fail)</li>
                    <li>Verification metrics to confirm success</li>
                </ul>
            </div>
        </section>

        <!-- Topic 4: FMEA -->
        <section class="content-section" id="topic-4">
            <h2>Topic 4: Failure Modes & Effects Analysis (FMEA)</h2>

            <div class="subsection">
                <h4>Why FMEA Matters for Water Systems</h4>
                <p>One pump's failure cascades to affect other pumps. Pump A fails ‚Üí pressure drops ‚Üí Pump B overloads ‚Üí Pump C cavitates ‚Üí system cascade.</p>
                <p style="margin-top: 1rem;">FMEA prioritizes: <strong>Which failure modes matter most for YOUR system?</strong></p>
            </div>

            <div class="activity">
                <div class="activity-title">
                    <div class="activity-icon">‚ö†Ô∏è</div>
                    Activity: FMEA Risk Priority Scoring
                </div>

                <div class="tabs">
                    <button class="tab-btn active" onclick="switchTab(event, 'fmea-list')">Step 1: Failure Modes</button>
                    <button class="tab-btn" onclick="switchTab(event, 'fmea-scoring')">Step 2: RPN Scoring</button>
                    <button class="tab-btn" onclick="switchTab(event, 'fmea-decision')">Step 3: OM Decision</button>
                </div>

                <div id="fmea-list" class="tab-content active">
                    <h4 style="margin-bottom: 1rem;">Potential Failure Modes for 150-HP Centrifugal Pump</h4>
                    <p style="margin-bottom: 1rem; color: var(--text-light);">Check the failure modes most likely at YOUR locations:</p>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
                        <label style="display: flex; align-items: center; gap: 0.5rem;">
                            <input type="checkbox" checked> Cavitation‚Äîimpeller pitting
                        </label>
                        <label style="display: flex; align-items: center; gap: 0.5rem;">
                            <input type="checkbox" checked> Bearing corrosion
                        </label>
                        <label style="display: flex; align-items: center; gap: 0.5rem;">
                            <input type="checkbox"> Seal leakage
                        </label>
                        <label style="display: flex; align-items: center; gap: 0.5rem;">
                            <input type="checkbox"> Shaft misalignment
                        </label>
                        <label style="display: flex; align-items: center; gap: 0.5rem;">
                            <input type="checkbox"> Impeller wear
                        </label>
                        <label style="display: flex; align-items: center; gap: 0.5rem;">
                            <input type="checkbox"> Suction strainer clog
                        </label>
                    </div>
                </div>

                <div id="fmea-scoring" class="tab-content">
                    <h4 style="margin-bottom: 1rem;">FMEA Risk Priority Number (RPN)</h4>
                    <p style="margin-bottom: 1.5rem; color: var(--text-light);">RPN = Severity √ó Occurrence √ó Detection</p>
                    
                    <div class="table-responsive">
                        <table style="font-size: 0.9rem;">
                            <thead>
                                <tr>
                                    <th>Failure Mode</th>
                                    <th>S (1-10)</th>
                                    <th>O (1-10)</th>
                                    <th>D (1-10)</th>
                                    <th>RPN</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Bearing corrosion</strong></td>
                                    <td><input type="number" min="1" max="10" value="7" style="width: 50px;"></td>
                                    <td><input type="number" min="1" max="10" value="6" style="width: 50px;"></td>
                                    <td><input type="number" min="1" max="10" value="9" style="width: 50px;"></td>
                                    <td style="font-weight: bold; color: var(--danger);">378</td>
                                </tr>
                                <tr>
                                    <td><strong>Cavitation pitting</strong></td>
                                    <td><input type="number" min="1" max="10" value="8" style="width: 50px;"></td>
                                    <td><input type="number" min="1" max="10" value="5" style="width: 50px;"></td>
                                    <td><input type="number" min="1" max="10" value="7" style="width: 50px;"></td>
                                    <td style="font-weight: bold; color: var(--warning);">280</td>
                                </tr>
                                <tr>
                                    <td><strong>Shaft misalignment</strong></td>
                                    <td><input type="number" min="1" max="10" value="9" style="width: 50px;"></td>
                                    <td><input type="number" min="1" max="10" value="2" style="width: 50px;"></td>
                                    <td><input type="number" min="1" max="10" value="6" style="width: 50px;"></td>
                                    <td style="font-weight: bold; color: var(--primary);">108</td>
                                </tr>
                                <tr>
                                    <td><strong>Seal leakage</strong></td>
                                    <td><input type="number" min="1" max="10" value="4" style="width: 50px;"></td>
                                    <td><input type="number" min="1" max="10" value="4" style="width: 50px;"></td>
                                    <td><input type="number" min="1" max="10" value="5" style="width: 50px;"></td>
                                    <td style="font-weight: bold;">80</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div style="margin-top: 1.5rem; padding: 1rem; background: var(--light-bg); border-radius: 6px;">
                        <strong>Scoring Guide:</strong><br>
                        <strong>Severity:</strong> 10=Catastrophic, 7-9=Major (stops pump), 4-6=Moderate, 1-3=Minor<br>
                        <strong>Occurrence:</strong> 10=Frequent, 5-6=Occasional, 2-3=Rare, 1=Almost never<br>
                        <strong>Detection:</strong> 10=Can't detect early, 7-9=Hard without monitoring, 4-6=Routine check, 1-3=Immediate
                    </div>
                </div>

                <div id="fmea-decision" class="tab-content">
                    <h4 style="margin-bottom: 1rem;">Which OM Should You Use?</h4>
                    <p style="margin-bottom: 1.5rem; color: var(--text-light);">RPN analysis shows bearing corrosion (378) and cavitation (280) are your top risks. Which OM prevents these?</p>
                    
                    <div class="grid-2" style="margin-bottom: 1.5rem;">
                        <div style="padding: 1rem; border: 2px solid var(--border); border-radius: 6px;">
                            <h4 style="color: var(--primary); margin-bottom: 0.5rem;">OM-A: 500-hour PM</h4>
                            <p style="font-size: 0.9rem; color: var(--text-light);">Prevents: Low-RPN failures (strainer, seals)</p>
                            <p style="margin-top: 0.5rem; color: var(--warning); font-weight: 600;">‚ùå Misses RPN 378 & 280</p>
                        </div>
                        <div style="padding: 1rem; border: 2px solid var(--border); border-radius: 6px;">
                            <h4 style="color: var(--primary); margin-bottom: 0.5rem;">OM-B: Pressure Monitoring</h4>
                            <p style="font-size: 0.9rem; color: var(--text-light);">Prevents: Cavitation (RPN 280)</p>
                            <p style="margin-top: 0.5rem; color: var(--warning); font-weight: 600;">‚ö†Ô∏è Catches pressure stress, not corrosion</p>
                        </div>
                        <div style="padding: 1rem; border: 2px solid var(--primary); border-radius: 6px; background: linear-gradient(135deg, rgba(30,64,175,0.05), rgba(30,64,175,0.08));">
                            <h4 style="color: var(--primary); margin-bottom: 0.5rem;">OM-C: Vibration + pH Monitoring</h4>
                            <p style="font-size: 0.9rem; color: var(--text-light);">Prevents: Corrosion (RPN 378) + Cavitation (RPN 280)</p>
                            <p style="margin-top: 0.5rem; color: var(--success); font-weight: 600;">‚úì Covers 80% of risk</p>
                        </div>
                    </div>

                    <div class="alert alert-success">
                        <div class="alert-icon">‚úì</div>
                        <div>
                            <strong>Recommendation:</strong> Use OM-C (vibration + pH monitoring). It addresses your two highest-RPN failures. Bearing corrosion is silent failure; must detect with vibration. Low pH accelerates corrosion; must monitor water quality.
                        </div>
                    </div>
                </div>
            </div>

            <div class="deliverable">
                <h4>üìä Deliverable: FMEA Prioritization Matrix</h4>
                <p>Your complete FMEA worksheet for strategic maintenance decisions.</p>
            </div>
        </section>

        <!-- Topic 5: RCM -->
        <section class="content-section" id="topic-5">
            <h2>Topic 5: Reliability Centered Maintenance (RCM)</h2>

            <div class="subsection">
                <h4>RCM: Your Bridge from Multiple OMs to One Strategy</h4>
                <p>Problem: You have Equipment A (Vendor X OM), Equipment B (Vendor Y OM), Equipment C (Vendor Z OM). Running three separate programs is expensive and confusing.</p>
                <p style="margin-top: 1rem;"><strong>RCM Solution:</strong> For each failure mode, choose the most cost-effective prevention strategy. Different locations get different maintenance based on consequence.</p>
            </div>

            <div class="activity">
                <div class="activity-title">
                    <div class="activity-icon">üéØ</div>
                    Activity: Build Your RCM Strategy
                </div>

                <div class="tabs">
                    <button class="tab-btn active" onclick="switchTab(event, 'rcm-assess')">Step 1: Assessment</button>
                    <button class="tab-btn" onclick="switchTab(event, 'rcm-strategy')">Step 2: Strategy</button>
                    <button class="tab-btn" onclick="switchTab(event, 'rcm-implement')">Step 3: Implementation</button>
                </div>

                <div id="rcm-assess" class="tab-content active">
                    <h4 style="margin-bottom: 1rem;">Location Assessment</h4>
                    <p style="margin-bottom: 1.5rem; color: var(--text-light);">Customize for your locations:</p>
                    
                    <div class="form-group">
                        <label>Location 1 Name</label>
                        <input type="text" placeholder="e.g., City Core Station" value="City Core">
                    </div>
                    <div class="form-group">
                        <label>Customers Affected</label>
                        <input type="number" placeholder="e.g., 50000" value="50000">
                    </div>
                    <div class="form-group">
                        <label>Cost per hour of outage</label>
                        <input type="text" placeholder="e.g., $250,000" value="$250,000">
                    </div>
                    <div class="form-group">
                        <label>Backup/Redundancy Available?</label>
                        <select>
                            <option value="yes">Yes - Two pumps</option>
                            <option value="manual">Manual bypass only</option>
                            <option value="none">None</option>
                        </select>
                    </div>

                    <div style="margin-top: 2rem; padding: 1rem; background: var(--light-bg); border-radius: 6px;">
                        <p style="color: var(--text-light); font-size: 0.9rem;">Repeat for Location 2 and Location 3 to complete your assessment</p>
                    </div>
                </div>

                <div id="rcm-strategy" class="tab-content">
                    <h4 style="margin-bottom: 1rem;">RCM Decision Logic</h4>
                    <p style="margin-bottom: 1.5rem; color: var(--text-light);">For HIGH CONSEQUENCE locations (City Core, Booster):</p>
                    
                    <div style="background: var(--light-bg); padding: 1.5rem; border-radius: 8px; margin-bottom: 1.5rem;">
                        <h4 style="color: var(--primary); margin-bottom: 0.75rem;">Q1: Can condition monitoring detect the failure?</h4>
                        <p style="color: var(--text-light); margin-bottom: 0.5rem;">If YES ‚Üí Use condition-directed maintenance</p>
                        <p style="color: var(--text-light);">If NO ‚Üí Use time-based PM or redundancy</p>
                    </div>

                    <div style="background: var(--light-bg); padding: 1.5rem; border-radius: 8px; margin-bottom: 1.5rem;">
                        <h4 style="color: var(--primary); margin-bottom: 0.75rem;">Q2: What's the cost of undetected failure?</h4>
                        <p style="color: var(--text-light); margin-bottom: 0.5rem;">If HIGH ($250K/hour) ‚Üí Intensive monitoring + backup required</p>
                        <p style="color: var(--text-light);">If MODERATE ($50K/hour) ‚Üí Moderate monitoring + some redundancy</p>
                        <p style="color: var(--text-light);">If LOW ($5K/hour) ‚Üí Basic monitoring sufficient</p>
                    </div>

                    <div style="background: var(--light-bg); padding: 1.5rem; border-radius: 8px;">
                        <h4 style="color: var(--primary); margin-bottom: 0.75rem;">Q3: Is failure-finding necessary?</h4>
                        <p style="color: var(--text-light); margin-bottom: 0.5rem;">If single pump, no backup ‚Üí YES (test backup monthly)</p>
                        <p style="color: var(--text-light);">If redundancy exists ‚Üí NO (redundancy handles failure)</p>
                        <p style="color: var(--text-light);">If low consequence ‚Üí NO (acceptable to fail)</p>
                    </div>
                </div>

                <div id="rcm-implement" class="tab-content">
                    <h4 style="margin-bottom: 1rem;">Your RCM Strategy Matrix</h4>
                    <p style="margin-bottom: 1.5rem; color: var(--text-light);">Implementation approach by location:</p>

                    <div class="table-responsive">
                        <table style="font-size: 0.85rem;">
                            <thead>
                                <tr>
                                    <th>Location</th>
                                    <th>Cavitation</th>
                                    <th>Corrosion</th>
                                    <th>Backup</th>
                                    <th>Monitoring</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>City Core</strong></td>
                                    <td>Pressure monitoring</td>
                                    <td>Vibration + pH</td>
                                    <td>Redundancy</td>
                                    <td>Continuous</td>
                                </tr>
                                <tr>
                                    <td><strong>Booster</strong></td>
                                    <td>Pressure monitoring</td>
                                    <td>Vibration + pH</td>
                                    <td>Auto-switchover</td>
                                    <td>Continuous</td>
                                </tr>
                                <tr>
                                    <td><strong>Remote</strong></td>
                                    <td>Monthly check</td>
                                    <td>Quarterly check</td>
                                    <td>Manual bypass</td>
                                    <td>Basic</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div style="margin-top: 1.5rem; padding: 1.5rem; background: linear-gradient(135deg, #fef3c7 0%, #fcd34d 100%); border-radius: 8px; border-left: 4px solid var(--warning);">
                        <h4 style="color: var(--warning); margin-bottom: 0.5rem;">Implementation Timeline</h4>
                        <ul class="list-styled" style="color: var(--text-dark);">
                            <li><strong>Month 1-2:</strong> Install monitoring sensors at high-consequence locations</li>
                            <li><strong>Month 2-3:</strong> Operator training + alarm threshold setup</li>
                            <li><strong>Month 3-4:</strong> Deploy condition-based PM; add backup system at Booster</li>
                            <li><strong>Ongoing:</strong> Monthly monitoring + adjustment based on failure data</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="deliverable">
                <h4>üìÑ Deliverable: RCM Strategy Document</h4>
                <p>Your unified maintenance strategy that replaces three different OMs with one coherent approach:</p>
                <ul class="list-styled">
                    <li>Function definitions for each location</li>
                    <li>Critical failure modes identified by RCM decision logic</li>
                    <li>Maintenance strategy matrix (what to do where)</li>
                    <li>Implementation plan (phased deployment)</li>
                    <li>Verification metrics (MTBF, availability targets)</li>
                </ul>
                <p style="margin-top: 1rem; color: var(--text-light); font-size: 0.9rem;">This document becomes your roadmap for the next 12 months and justifies your maintenance budget to leadership.</p>
            </div>
        </section>

        <!-- Final Summary -->
        <section class="content-section" id="completion">
            <div style="text-align: center;">
                <h2 style="border: none; margin-bottom: 1rem;">üéì Training Complete</h2>
                <p style="font-size: 1.1rem; margin-bottom: 2rem;">You've progressed through all five topics and built a complete maintenance strategy.</p>
            </div>

            <div class="alert alert-success">
                <div class="alert-icon">‚úì</div>
                <div>
                    <strong>What You Now Understand:</strong><br>
                    Why different OMs exist (different failure modes) ‚Ä¢ How to measure reliability (MTBF, MTTR, Availability, Criticality) ‚Ä¢ How to find root causes (multi-layer analysis) ‚Ä¢ Which failures matter most (RPN scoring) ‚Ä¢ How to build a strategy (RCM decision logic for different consequences)
                </div>
            </div>

            <h3 style="margin-top: 2rem;">Your Deliverables Checklist</h3>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem;">
                <div style="padding: 1.5rem; border: 2px solid var(--success); border-radius: 8px; background: linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%);">
                    <div style="font-size: 2rem; margin-bottom: 0.5rem;">‚úì</div>
                    <div style="font-weight: 600; color: var(--success);">Failure Analysis Worksheet</div>
                    <div style="font-size: 0.85rem; color: var(--text-light); margin-top: 0.5rem;">Identify YOUR failure modes</div>
                </div>
                <div style="padding: 1.5rem; border: 2px solid var(--success); border-radius: 8px; background: linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%);">
                    <div style="font-size: 2rem; margin-bottom: 0.5rem;">‚úì</div>
                    <div style="font-weight: 600; color: var(--success);">Criticality Matrix</div>
                    <div style="font-size: 0.85rem; color: var(--text-light); margin-top: 0.5rem;">Understand YOUR pump priorities</div>
                </div>
                <div style="padding: 1.5rem; border: 2px solid var(--success); border-radius: 8px; background: linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%);">
                    <div style="font-size: 2rem; margin-bottom: 0.5rem;">‚úì</div>
                    <div style="font-weight: 600; color: var(--success);">RCA Report</div>
                    <div style="font-size: 0.85rem; color: var(--text-light); margin-top: 0.5rem;">Find multi-layer root causes</div>
                </div>
                <div style="padding: 1.5rem; border: 2px solid var(--success); border-radius: 8px; background: linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%);">
                    <div style="font-size: 2rem; margin-bottom: 0.5rem;">‚úì</div>
                    <div style="font-weight: 600; color: var(--success);">FMEA Matrix</div>
                    <div style="font-size: 0.85rem; color: var(--text-light); margin-top: 0.5rem;">Score YOUR risk priorities</div>
                </div>
                <div style="padding: 1.5rem; border: 2px solid var(--success); border-radius: 8px; background: linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%);">
                    <div style="font-size: 2rem; margin-bottom: 0.5rem;">‚úì</div>
                    <div style="font-weight: 600; color: var(--success);">RCM Strategy Document</div>
                    <div style="font-size: 0.85rem; color: var(--text-light); margin-top: 0.5rem;">Unified maintenance approach</div>
                </div>
            </div>

            <h3 style="margin-top: 3rem;">Next Steps</h3>
            <div style="background: var(--light-bg); padding: 2rem; border-radius: 8px; margin-bottom: 2rem;">
                <ol style="margin-left: 1.5rem; line-height: 2;">
                    <li><strong>Complete all worksheets</strong> using YOUR pump station data</li>
                    <li><strong>Share RCM Strategy Document</strong> with your leadership team</li>
                    <li><strong>Month 1-2:</strong> Install monitoring sensors at critical locations</li>
                    <li><strong>Month 2-3:</strong> Train operators on alert response</li>
                    <li><strong>Month 3-4:</strong> Implement condition-based PM across all locations</li>
                    <li><strong>Ongoing:</strong> Review FMEA monthly; adjust thresholds based on failure patterns</li>
                </ol>
            </div>

            <div class="btn-group" style="justify-content: center; margin-top: 2rem;">
                <button class="btn btn-primary" onclick="printAll()">üìÑ Print All Worksheets</button>
                <button class="btn btn-secondary" onclick="downloadSummary()">‚¨áÔ∏è Download Summary</button>
                <button class="btn btn-secondary" onclick="location.reload()">üîÑ Restart Training</button>
            </div>
        </section>
    </div>

    <footer>
        <p>Water Transmission Pump Training Platform | Day 3: Failure Analysis & Reliability Engineering</p>
        <p style="margin-top: 0.5rem; font-size: 0.9rem;">Created for professional training in water operations management</p>
    </footer>

    <script>
        // Topic Navigation
        const navButtons = document.querySelectorAll('.nav-btn');
        const contentSections = document.querySelectorAll('.content-section');
        const topicCards = document.querySelectorAll('.topic-card');

        function showTopic(topicNum) {
            // Hide all sections
            contentSections.forEach(section => section.classList.remove('active'));
            navButtons.forEach(btn => btn.classList.remove('active'));
            topicCards.forEach(card => card.classList.remove('active'));

            // Show selected section
            const section = document.getElementById(`topic-${topicNum}`);
            if (section) {
                section.classList.add('active');
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }

            // Update nav button
            const navBtn = document.querySelector(`[data-topic="${topicNum}"]`);
            if (navBtn) navBtn.classList.add('active');

            // Update topic card
            const card = document.querySelector(`.topic-card[data-topic="${topicNum}"]`);
            if (card) card.classList.add('active');
        }

        navButtons.forEach(btn => {
            btn.addEventListener('click', () => {
                const topicNum = btn.dataset.topic;
                showTopic(topicNum);
            });
        });

        topicCards.forEach(card => {
            card.addEventListener('click', () => {
                const topicNum = card.dataset.topic;
                showTopic(topicNum);
            });
        });

        // Tab Switching
        function switchTab(event, tabId) {
            event.preventDefault();
            const tabContents = event.target.parentElement.parentElement.querySelectorAll('.tab-content');
            const tabBtns = event.target.parentElement.querySelectorAll('.tab-btn');

            tabContents.forEach(content => content.classList.remove('active'));
            tabBtns.forEach(btn => btn.classList.remove('active'));

            document.getElementById(tabId).classList.add('active');
            event.target.classList.add('active');
        }

        // Calculations
        function calculateCriticality() {
            const failures = parseFloat(document.getElementById('failures').value) || 12;
            const pumpHours = parseFloat(document.getElementById('pumpHours').value) || 15000;
            const mttr = parseFloat(document.getElementById('mttr').value) || 5;

            const mtbf = pumpHours / failures;
            const availability = (mtbf / (mtbf + mttr)) * 100;

            document.getElementById('mtbfResult').textContent = mtbf.toFixed(0) + ' hours';
            document.getElementById('availabilityResult').textContent = availability.toFixed(1) + '%';

            // Calculate criticality
            const cons1 = 9;
            const cons2 = 10;
            const cons3 = 4;

            const crit1 = (availability / 100) * cons1;
            const crit2 = (availability / 100) * cons2;
            const crit3 = (availability / 100) * cons3;

            document.getElementById('av1').textContent = availability.toFixed(1) + '%';
            document.getElementById('av2').textContent = availability.toFixed(1) + '%';
            document.getElementById('av3').textContent = availability.toFixed(1) + '%';

            document.getElementById('crit1').textContent = crit1.toFixed(2);
            document.getElementById('crit2').textContent = crit2.toFixed(2);
            document.getElementById('crit3').textContent = crit3.toFixed(2);

            document.getElementById('criticalityMatrix').style.display = 'block';
        }

        // Save Functions
        function saveAnalysis(topic) {
            alert('‚úì Analysis saved! You can now print or export this section.');
        }

        function printSection() {
            window.print();
        }

        function printAll() {
            window.print();
        }

        function downloadSummary() {
            alert('Download feature: Create a PDF of your complete RCM Strategy Document');
        }

        // Progress Indicator
        function initProgressIndicator() {
            const indicator = document.getElementById('progressIndicator');
            for (let i = 0; i < 6; i++) {
                const dot = document.createElement('div');
                dot.className = 'progress-dot' + (i === 0 ? ' active' : '');
                dot.onclick = () => showTopic(i);
                indicator.appendChild(dot);
            }
        }

        initProgressIndicator();

        // Mobile Menu Responsiveness
        function setupResponsive() {
            const header = document.querySelector('header');
            window.addEventListener('scroll', () => {
                if (window.scrollY > 50) {
                    header.style.boxShadow = '0 4px 12px rgba(0,0,0,0.15)';
                } else {
                    header.style.boxShadow = '0 2px 8px rgba(0,0,0,0.1)';
                }
            });
        }

        setupResponsive();
    </script>
</body>
</html>
